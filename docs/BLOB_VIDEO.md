# Загрузка видео через Vercel Blob

Большие видео (до 500 MB) загружаются в [Vercel Blob](https://vercel.com/docs/storage/vercel-blob) и отдаются по URL. В репозиторий видео не попадают.

## Настройка на Vercel

1. В проекте на [Vercel](https://vercel.com) откройте вкладку **Storage**.
2. Нажмите **Create Database** → выберите **Blob**.
3. Укажите имя хранилища и выберите **Public** (чтобы по URL можно было смотреть видео без токена).
4. После создания переменная **BLOB_READ_WRITE_TOKEN** появится в проекте автоматически.
5. Локально подтяните env: `vercel env pull` (или добавьте токен в `.env.local` вручную из настроек Store).

## Как загрузить видео

1. Запустите приложение и откройте страницу **/admin/upload**.
2. Выберите файл (MP4, WebM или MOV, до 500 MB) и нажмите **Загрузить**.
3. После загрузки скопируйте выданный **URL** и используйте его в коде:
   - для `VideoHoverCard`: передайте `videoSrc={url}` (локальное видео) — плеер подставит этот URL в `<video src={...}>`;
   - для Rutube/других сервисов по-прежнему используйте `embedSrc` с iframe.

## API

- **POST /api/upload-video** — маршрут для клиентской загрузки (вызывается автоматически со страницы `/admin/upload`). Разрешает типы: `video/mp4`, `video/webm`, `video/quicktime`; максимум 500 MB.

## Переменные окружения

| Переменная | Описание |
|------------|----------|
| `BLOB_READ_WRITE_TOKEN` | Токен Blob Store (создаётся при создании Blob в Vercel). |

Локально: создайте `.env.local` и добавьте туда `BLOB_READ_WRITE_TOKEN=...` или выполните `vercel env pull`.
